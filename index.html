<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Democratizing Smart Farming - AEC Project</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Phosphor Icons (for new interactive controls only) -->
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
    <style>
        /* Modern Nature Background with Depth */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            color: #1C1917;
            scroll-behavior: smooth;
            background-color: #f0fdf4; /* Green-50 base */
            /* Subtle dot pattern */
            background-image: radial-gradient(#15803d 0.8px, transparent 0.8px), radial-gradient(#15803d 0.8px, #f0fdf4 0.8px);
            background-size: 24px 24px;
            background-position: 0 0, 12px 12px;
            min-height: 100vh;
        }

        /* Gradient Overlay for better text readability */
        body::before {
            content: "";
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(160deg, rgba(240, 253, 244, 0.85) 0%, rgba(255, 251, 235, 0.85) 100%);
            z-index: -1;
            pointer-events: none;
        }

        /* Glassmorphism Utility Class */
        .glass-panel {
            background: rgba(255, 255, 255, 0.65);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.6);
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.05);
        }

        /* Glass Cards Hover Effect */
        .glass-card {
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(8px);
            border: 1px solid rgba(255, 255, 255, 0.5);
            transition: all 0.3s ease;
            cursor: pointer;
        }
        .glass-card:hover {
            transform: translateY(-5px);
            background: rgba(255, 255, 255, 0.9);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
            border-color: rgba(21, 128, 61, 0.3);
        }

        /* Chart Container Styling */
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }

        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }

        /* Phone Simulator Styling */
        .phone-mockup {
            border: 8px solid #2d2d2d;
            border-radius: 36px;
            overflow: hidden;
            position: relative;
            background: #fff;
            box-shadow: 0 20px 50px rgba(0,0,0,0.25);
            transition: transform 0.3s ease;
            width: 300px;
            height: 600px;
            margin: 0 auto; /* Center on mobile */
        }
        
        .mic-btn {
            animation: pulse-ring 2s infinite;
        }

        @keyframes pulse-ring {
            0% { box-shadow: 0 0 0 0 rgba(22, 163, 74, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(22, 163, 74, 0); }
            100% { box-shadow: 0 0 0 0 rgba(22, 163, 74, 0); }
        }

        /* --- Custom Animations for Simulator --- */
        
        /* 1. Scanning Laser (Pesticide & Disease) */
        @keyframes scan-laser {
            0% { top: 10%; opacity: 0; }
            20% { opacity: 1; }
            80% { opacity: 1; }
            100% { top: 80%; opacity: 0; }
        }
        .scan-laser {
            position: absolute;
            left: 10%;
            width: 80%;
            height: 2px;
            background-color: #ef4444;
            box-shadow: 0 0 8px rgba(239, 68, 68, 0.8);
            animation: scan-laser 2s ease-in-out infinite;
            z-index: 20;
        }

        /* 2. Radar Sweep (Weather) */
        @keyframes radar-spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        .radar-sweep {
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: conic-gradient(from 0deg, transparent 0deg, rgba(59, 130, 246, 0.3) 60deg, transparent 60deg);
            animation: radar-spin 2s linear infinite;
            top: 0; left: 0;
        }

        /* 3. Growing Bars (Soil) */
        @keyframes grow-bar {
            0% { height: 0%; }
            100% { height: 100%; }
        }
        .bar-grow {
            animation: grow-bar 1.5s ease-out forwards;
        }

        /* Tab Navigation */
        .tab-active {
            border-bottom: 3px solid #15803D;
            color: #15803D;
            font-weight: bold;
            background: rgba(240, 253, 244, 0.5);
        }
        .tab-inactive {
            border-bottom: 3px solid transparent;
            color: #78716C;
        }
        .tab-inactive:hover {
            color: #15803D;
            background: rgba(255, 255, 255, 0.5);
        }

        /* Gradient Text */
        .text-gradient {
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-image: linear-gradient(to right, #15803D, #CA8A04);
        }

        /* AI Guide Bot Styling */
        .guide-bot {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
            cursor: pointer;
            transition: transform 0.2s;
        }
        .guide-bot:hover { transform: scale(1.1); }
        .guide-bubble {
            position: fixed;
            bottom: 90px;
            right: 20px;
            width: 260px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 15px;
            border-radius: 15px 15px 0 15px;
            box-shadow: 0 8px 30px rgba(0,0,0,0.12);
            z-index: 999;
            display: none;
            border: 1px solid rgba(255,255,255,0.8);
        }
    </style>
</head>
<body class="antialiased">

    <!-- AI Guide Bot -->
    <div class="guide-bot" onclick="toggleGuide()">
        <div class="w-14 h-14 md:w-16 md:h-16 bg-blue-600 rounded-full flex items-center justify-center text-white text-3xl shadow-lg border-4 border-white/50 backdrop-blur">
            ü§ñ
        </div>
    </div>
    <div id="guide-bubble" class="guide-bubble">
        <p class="text-sm text-gray-700 mb-2" id="guide-text">Hi! I'm your Research Guide. I can explain the project or help you try the App Demo below!</p>
        <button onclick="speakGuide(document.getElementById('guide-text').innerText)" class="text-blue-600 text-xs font-bold uppercase tracking-wide flex items-center gap-1">
            <i class="ph ph-speaker-high"></i> Listen
        </button>
    </div>

    <!-- Navigation (Transparent Glass) -->
    <nav class="sticky top-0 z-50 glass-panel border-b border-white/40">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <span class="text-2xl font-bold text-green-800 flex items-center gap-2">
                        <i class="ph ph-plant"></i> Agri<span class="text-yellow-600">Vani</span>
                    </span>
                </div>
                <!-- Desktop Menu -->
                <div class="hidden md:flex items-center space-x-8">
                    <button onclick="scrollToSection('context')" class="text-gray-700 hover:text-green-700 font-medium transition">Context</button>
                    <button onclick="scrollToSection('solution')" class="text-gray-700 hover:text-green-700 font-medium transition">Solution</button>
                    <button onclick="scrollToSection('new-ideas')" class="text-orange-700 hover:text-orange-900 font-medium transition">New Ideas</button>
                    <button onclick="scrollToSection('demo')" class="text-green-700 hover:text-green-900 font-bold bg-green-100/50 px-4 py-2 rounded-full border border-green-200 transition shadow-sm hover:shadow">Try the App</button>
                    <button onclick="scrollToSection('impact')" class="text-gray-700 hover:text-green-700 font-medium transition">Impact</button>
                </div>
                <!-- Mobile Menu Button -->
                <div class="md:hidden flex items-center">
                    <button class="text-gray-700 text-3xl" onclick="toggleMobileMenu()">
                        <i class="ph ph-list"></i>
                    </button>
                </div>
            </div>
        </div>
        <!-- Mobile Dropdown -->
        <div id="mobile-menu" class="hidden md:hidden glass-panel border-t border-white/40 p-4 absolute w-full">
             <button onclick="scrollToSection('context')" class="block w-full text-left py-3 text-gray-700 font-medium border-b border-gray-100">Context</button>
             <button onclick="scrollToSection('solution')" class="block w-full text-left py-3 text-gray-700 font-medium border-b border-gray-100">Solution</button>
             <button onclick="scrollToSection('new-ideas')" class="block w-full text-left py-3 text-orange-700 font-medium border-b border-gray-100">New Ideas</button>
             <button onclick="scrollToSection('demo')" class="block w-full text-left py-3 text-green-700 font-bold border-b border-gray-100">Try the App</button>
             <button onclick="scrollToSection('impact')" class="block w-full text-left py-3 text-gray-700 font-medium">Impact</button>
        </div>
    </nav>

    <!-- Hero Section with Group Info -->
    <header class="py-16 sm:py-24">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <div class="inline-block mb-6 px-4 py-1.5 rounded-full glass-panel text-green-800 text-xs font-bold uppercase tracking-wider shadow-sm">
                Research Project
            </div>
            <h1 class="text-4xl sm:text-5xl md:text-6xl font-extrabold tracking-tight text-gray-900 mb-6 drop-shadow-sm">
                Democratizing <span class="text-gradient">Smart Farming</span> <br class="hidden md:block" /> in North East India
            </h1>
            <p class="mt-4 max-w-2xl mx-auto text-lg sm:text-xl text-gray-700 font-medium">
                Bridging the digital divide with Voice-First AI and Frugal IoT technologies.
            </p>

            <!-- Group Details (Glass Card) -->
            <div class="mt-10 glass-panel p-6 rounded-2xl max-w-4xl mx-auto text-left relative overflow-hidden">
                <div class="absolute top-0 right-0 w-24 h-24 bg-green-200 rounded-full blur-3xl opacity-30 -translate-y-1/2 translate-x-1/2"></div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 relative z-10">
                   
                <div class="mt-6 pt-6 border-t border-gray-200/50 relative z-10">
                    <p class="text-xs font-bold text-gray-500 uppercase tracking-wider mb-3">Research Group</p>
                    <div class="flex flex-wrap gap-3">
                        <span class="px-4 py-1.5 bg-white/60 border border-green-100 text-green-800 rounded-full text-sm font-medium shadow-sm">Gyandeep Duwarah</span>
                        <span class="px-4 py-1.5 bg-white/60 border border-green-100 text-green-800 rounded-full text-sm font-medium shadow-sm">Purnita Rabha</span>
                        <span class="px-4 py-1.5 bg-white/60 border border-green-100 text-green-800 rounded-full text-sm font-medium shadow-sm">Priyanshu Pratim Bora</span>
                    </div>
                </div>
            </div>

            <div class="mt-10 flex justify-center">
                <button onclick="scrollToSection('demo')" class="px-8 py-4 bg-gradient-to-r from-green-700 to-green-600 text-white font-bold rounded-xl shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all flex items-center gap-2">
                    <i class="ph ph-play-circle text-xl"></i> Experience the Innovation
                </button>
            </div>
        </div>
    </header>

    <!-- Context Section -->
    <section id="context" class="py-16">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold text-gray-900">The Challenge</h2>
                <p class="mt-4 text-gray-600 max-w-3xl mx-auto">
                    Unique barriers in North East India prevent adoption of standard agritech.
                </p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div class="glass-card p-8 rounded-2xl">
                    <div class="text-5xl mb-4 text-center">üìñ</div>
                    <h3 class="text-xl font-bold text-gray-900 mb-2 text-center">Literacy Barrier</h3>
                    <p class="text-gray-600 text-center text-sm">90% of apps use text. Our target users cannot read complex menus.</p>
                </div>
                <div class="glass-card p-8 rounded-2xl">
                    <div class="text-5xl mb-4 text-center">üí∞</div>
                    <h3 class="text-xl font-bold text-gray-900 mb-2 text-center">Cost Barrier</h3>
                    <p class="text-gray-600 text-center text-sm">Standard IoT stations cost ‚Çπ50,000+. Too expensive for small farms.</p>
                </div>
                <div class="glass-card p-8 rounded-2xl">
                    <div class="text-5xl mb-4 text-center">üì°</div>
                    <h3 class="text-xl font-bold text-gray-900 mb-2 text-center">Connectivity</h3>
                    <p class="text-gray-600 text-center text-sm">Cloud AI fails in remote valleys. We need offline solutions.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Solution Section (Restored Interactive Toggles) -->
    <section id="solution" class="py-16">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold text-gray-900">The "Phygital" Solution</h2>
                <p class="mt-4 text-gray-600 max-w-3xl mx-auto">
                    Merging high-tech satellite data with low-tech accessibility.
                </p>
            </div>

            <!-- Interactive Toggle View -->
            <div class="flex justify-center mb-8">
                <div class="glass-panel p-1 rounded-xl shadow-sm inline-flex">
                    <button id="btn-digital" onclick="switchSolution('digital')" class="px-6 py-2 rounded-lg text-sm font-bold bg-green-700 text-white shadow-sm transition-all">
                        Digital Layer (App)
                    </button>
                    <button id="btn-physical" onclick="switchSolution('physical')" class="px-6 py-2 rounded-lg text-sm font-medium text-gray-600 hover:text-green-700 transition-all">
                        Physical Layer (IoT)
                    </button>
                </div>
            </div>

            <!-- Glass Toggle Container -->
            <div class="glass-panel rounded-3xl shadow-xl overflow-hidden border border-white/50 min-h-[400px] flex flex-col md:flex-row">
                
                <!-- Content Area -->
                <div class="w-full md:w-1/2 p-10 flex flex-col justify-center relative">
                    <!-- Decor -->
                    <div class="absolute top-0 left-0 w-full h-full bg-gradient-to-br from-green-50/50 to-transparent z-0"></div>
                    
                    <div class="relative z-10">
                        <!-- Digital Content -->
                        <div id="solution-content-digital">
                            <h3 class="text-2xl font-bold text-green-800 mb-6">Agri-Vani App</h3>
                            <ul class="space-y-4">
                                <li class="flex items-center gap-4 bg-white/50 p-3 rounded-lg"><span class="text-2xl">üó£Ô∏è</span> <div><span class="font-bold text-gray-800 block">Voice-First</span><span class="text-xs text-gray-600">Local dialects supported</span></div></li>
                                <li class="flex items-center gap-4 bg-white/50 p-3 rounded-lg"><span class="text-2xl">üì±</span> <div><span class="font-bold text-gray-800 block">Edge AI (Offline)</span><span class="text-xs text-gray-600">Works without internet</span></div></li>
                                <li class="flex items-center gap-4 bg-white/50 p-3 rounded-lg"><span class="text-2xl">üìç</span> <div><span class="font-bold text-gray-800 block">Zero Cost Entry</span><span class="text-xs text-gray-600">Uses existing phone</span></div></li>
                            </ul>
                        </div>

                        <!-- Physical Content -->
                        <div id="solution-content-physical" class="hidden">
                            <h3 class="text-2xl font-bold text-orange-800 mb-6">The "Village Stick"</h3>
                            <ul class="space-y-4">
                                <li class="flex items-center gap-4 bg-white/50 p-3 rounded-lg"><span class="text-2xl">üîå</span> <div><span class="font-bold text-gray-800 block">Community Owned</span><span class="text-xs text-gray-600">Shared by FPO. Rent for ‚Çπ10.</span></div></li>
                                <li class="flex items-center gap-4 bg-white/50 p-3 rounded-lg"><span class="text-2xl">üîã</span> <div><span class="font-bold text-gray-800 block">Energy Efficient</span><span class="text-xs text-gray-600">Deep Sleep protocols (6mo battery)</span></div></li>
                                <li class="flex items-center gap-4 bg-white/50 p-3 rounded-lg"><span class="text-2xl">üî¨</span> <div><span class="font-bold text-gray-800 block">Ground Truth</span><span class="text-xs text-gray-600">Precise NPK, pH data calibration</span></div></li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Visual Area -->
                <div class="w-full md:w-1/2 bg-white/40 p-8 flex items-center justify-center border-t md:border-t-0 md:border-l border-white/50">
                    
                    <!-- Digital Visual (Chart) -->
                    <div id="solution-visual-digital" class="w-full">
                        <div class="chart-container">
                            <canvas id="costChart"></canvas>
                        </div>
                        <p class="text-xs text-center text-gray-500 mt-4">Drastic reduction in implementation cost.</p>
                    </div>

                    <!-- Physical Visual (Stick Info) -->
                    <div id="solution-visual-physical" class="hidden w-full text-center">
                         <div class="glass-card p-8 rounded-3xl inline-block">
                             <div class="text-6xl mb-4">ü¶Ø</div>
                             <h4 class="text-xl font-bold text-gray-800">The Village Stick</h4>
                             <p class="text-sm text-gray-600 mt-2 font-medium">Sensors: NPK, pH, Moisture</p>
                             <div class="mt-6 flex flex-wrap justify-center gap-2">
                                 <span class="px-3 py-1 bg-green-100 text-green-800 text-xs font-bold rounded-full">ESP32</span>
                                 <span class="px-3 py-1 bg-blue-100 text-blue-800 text-xs font-bold rounded-full">LoRaWAN</span>
                                 <span class="px-3 py-1 bg-yellow-100 text-yellow-800 text-xs font-bold rounded-full">Deep Sleep</span>
                             </div>
                         </div>
                    </div>

                </div>
            </div>
        </div>
    </section>

    <!-- NEW Ideas Section -->
    <section id="new-ideas" class="py-16">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <span class="bg-yellow-100 text-yellow-800 text-xs font-bold px-3 py-1 rounded-full uppercase tracking-wider">New Research</span>
                <h2 class="text-3xl font-bold text-gray-900 mt-4">Safety & Cost Saving Ideas</h2>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <!-- Pesticide Safety -->
                <div class="glass-card p-8 rounded-2xl border-l-4 border-l-red-500 relative overflow-hidden group">
                    <div class="absolute right-0 top-0 opacity-10 group-hover:opacity-20 transition transform group-hover:scale-110">
                        <i class="ph ph-warning-octagon text-9xl text-red-600"></i>
                    </div>
                    <div class="relative z-10">
                        <div class="flex items-center gap-3 mb-4">
                            <span class="text-4xl p-2 bg-red-100 rounded-lg">‚ò†Ô∏è</span>
                            <h3 class="text-xl font-bold text-red-800">Pesticide Safety Scanner</h3>
                        </div>
                        <p class="text-gray-800 font-semibold mb-2">The "Fake News" Filter for Chemicals</p>
                        <p class="text-sm text-gray-600 mb-4 leading-relaxed">Farmers often buy harmful chemicals. This feature uses the camera to scan bottle labels and warns: <span class="font-bold text-red-600">"Stop! Kills Bees."</span></p>
                        <div class="inline-block bg-red-50 px-4 py-2 rounded-lg border border-red-200 text-xs font-bold text-red-700">Cost: ‚Çπ0 (Software)</div>
                    </div>
                </div>

                <!-- Weed Management -->
                <div class="glass-card p-8 rounded-2xl border-l-4 border-l-green-500 relative overflow-hidden group">
                    <div class="absolute right-0 top-0 opacity-10 group-hover:opacity-20 transition transform group-hover:scale-110">
                        <i class="ph ph-plant text-9xl text-green-600"></i>
                    </div>
                    <div class="relative z-10">
                        <div class="flex items-center gap-3 mb-4">
                            <span class="text-4xl p-2 bg-green-100 rounded-lg">üåø</span>
                            <h3 class="text-xl font-bold text-green-800">Smart Weed ID</h3>
                        </div>
                        <p class="text-gray-800 font-semibold mb-2">Early Invasive Detection</p>
                        <p class="text-sm text-gray-600 mb-4 leading-relaxed">Detects invasive weeds like <em>Mikania micrantha</em> at the seedling stage. Advises manual removal before expensive herbicides are needed.</p>
                        <div class="inline-block bg-green-50 px-4 py-2 rounded-lg border border-green-200 text-xs font-bold text-green-700">Benefit: 100% Herbicide Savings</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Demo Section (Updated) -->
    <section id="demo" class="py-16 overflow-hidden">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
             <div class="text-center mb-12">
                <h2 class="text-3xl font-bold text-gray-900">Experience "Agri-Vani"</h2>
                <p class="mt-4 text-gray-600 max-w-2xl mx-auto">
                    Try the "Zero-UI" concept. Select a language and tap an app to start.
                </p>
            </div>

            <div class="flex flex-col md:flex-row items-start justify-center gap-12">
                
                <!-- Controls Panel -->
                <div class="w-full md:w-1/3 space-y-6">
                    <!-- Language Selector -->
                    <div class="glass-panel p-6 rounded-2xl">
                        <h3 class="font-bold text-gray-900 mb-4 flex items-center gap-2">
                            <i class="ph ph-translate"></i> 1. Select Language
                        </h3>
                        <div class="grid grid-cols-3 gap-3">
                            <button onclick="setLang('en')" id="lang-en" class="lang-btn active-lang px-3 py-2 rounded-xl text-sm font-medium border bg-green-700 text-white border-green-700 shadow-sm transition">English</button>
                            <button onclick="setLang('hi')" id="lang-hi" class="lang-btn px-3 py-2 rounded-xl text-sm font-medium border border-gray-300 bg-white/50 hover:bg-white transition">Hindi</button>
                            <button onclick="setLang('as')" id="lang-as" class="lang-btn px-3 py-2 rounded-xl text-sm font-medium border border-gray-300 bg-white/50 hover:bg-white transition">Assamese</button>
                        </div>
                    </div>

                    <div class="glass-panel p-6 rounded-2xl">
                        <h3 class="font-bold text-gray-900 mb-4 flex items-center gap-2">
                            <i class="ph ph-info"></i> Instructions
                        </h3>
                        <p class="text-gray-600 text-sm mb-4">
                            Tap the <strong>App Icons</strong> on the phone screen to simulate a feature.
                        </p>
                        <div class="space-y-3 text-sm text-gray-500">
                            <div class="flex items-center gap-2"><i class="ph ph-skull text-red-500"></i> Pesticide Scanner</div>
                            <div class="flex items-center gap-2"><i class="ph ph-plant text-green-500"></i> Disease Detection</div>
                            <div class="flex items-center gap-2"><i class="ph ph-mountains text-orange-500"></i> Soil Analysis</div>
                            <div class="flex items-center gap-2"><i class="ph ph-cloud-sun text-blue-500"></i> Weather Alert</div>
                        </div>
                    </div>
                    <div class="text-xs text-gray-500 italic text-center glass-panel p-2 rounded-lg">
                        *Enable your device audio to hear the AI response.
                    </div>
                </div>

                <!-- Phone Simulator -->
                <div class="phone-mockup">
                    <div class="bg-gray-900 text-white px-5 py-3 text-xs flex justify-between items-center z-10 relative">
                        <span>09:41</span>
                        <span>Iphone 69 Pro Max</span>
                        <div class="flex gap-2">
                            <i class="ph ph-wifi-high"></i>
                            <i class="ph ph-battery-full"></i>
                        </div>
                    </div>

                    <div class="bg-green-700 p-4 text-white flex justify-between items-center relative z-10 shadow-md">
                        <span class="font-bold text-lg">Agri-Vani</span>
                        <span class="text-xl"><i class="ph ph-gear"></i></span>
                    </div>

                    <div id="sim-screen" class="flex-1 h-full bg-stone-100 p-4 flex flex-col items-center justify-center overflow-y-auto relative">
                        <!-- Idle State (App Grid) -->
                        <div id="state-idle" class="w-full h-full flex flex-col justify-start pt-8 pb-4 px-2">
                            <div class="text-center mb-8">
                                <h2 class="text-4xl font-light text-gray-800">09:41</h2>
                                <p class="text-gray-500 text-xs mt-1">Friday, 13 Feb</p>
                            </div>

                            <div class="grid grid-cols-2 gap-4 w-full mb-auto px-2">
                                <!-- Pesticide App -->
                                <button onclick="runScenario('pesticide')" class="flex flex-col items-center gap-2 group p-2 rounded-xl hover:bg-black/5 transition">
                                    <div class="w-14 h-14 bg-red-100 rounded-2xl flex items-center justify-center text-red-600 shadow-sm border border-red-200 group-hover:scale-105 transition">
                                        <i class="ph ph-skull text-3xl"></i>
                                    </div>
                                    <span class="text-xs font-medium text-gray-600">Scanner</span>
                                </button>

                                <!-- Disease App -->
                                <button onclick="runScenario('disease')" class="flex flex-col items-center gap-2 group p-2 rounded-xl hover:bg-black/5 transition">
                                    <div class="w-14 h-14 bg-green-100 rounded-2xl flex items-center justify-center text-green-600 shadow-sm border border-green-200 group-hover:scale-105 transition">
                                        <i class="ph ph-plant text-3xl"></i>
                                    </div>
                                    <span class="text-xs font-medium text-gray-600">Dr. Crop</span>
                                </button>

                                <!-- Soil App -->
                                <button onclick="runScenario('soil')" class="flex flex-col items-center gap-2 group p-2 rounded-xl hover:bg-black/5 transition">
                                    <div class="w-14 h-14 bg-orange-100 rounded-2xl flex items-center justify-center text-orange-600 shadow-sm border border-orange-200 group-hover:scale-105 transition">
                                        <i class="ph ph-mountains text-3xl"></i>
                                    </div>
                                    <span class="text-xs font-medium text-gray-600">Soil Lab(Village Stick Required)</span>
                                </button>

                                <!-- Weather App -->
                                <button onclick="runScenario('weather')" class="flex flex-col items-center gap-2 group p-2 rounded-xl hover:bg-black/5 transition">
                                    <div class="w-14 h-14 bg-blue-100 rounded-2xl flex items-center justify-center text-blue-600 shadow-sm border border-blue-200 group-hover:scale-105 transition">
                                        <i class="ph ph-cloud-sun text-3xl"></i>
                                    </div>
                                    <span class="text-xs font-medium text-gray-600">Weather</span>
                                </button>
                            </div>
                            
                            <!-- Voice Assistant (Mic) -->
                            <div class="mt-4 flex flex-col items-center">
                                <button onclick="triggerManualMic()" class="mic-btn w-14 h-14 bg-green-600 rounded-full flex items-center justify-center text-white text-2xl shadow-lg hover:bg-green-700 transition mx-auto transform active:scale-95">
                                    <i class="ph ph-microphone-fill"></i>
                                </button>
                            </div>
                        </div>

                        <!-- User Speaking State -->
                        <div id="ui-overlay" class="hidden text-center absolute inset-0 bg-white/95 backdrop-blur-sm z-20 flex-col items-center justify-center p-6">
                             <!-- Dynamic Content -->
                        </div>
                    </div>
                    
                    <!-- Bottom Nav -->
                    <div class="absolute bottom-0 w-full h-16 bg-white border-t flex justify-around items-center text-gray-400 text-2xl z-10">
                        <i class="ph ph-house-fill text-green-600"></i>
                        <i class="ph ph-camera"></i>
                        <i class="ph ph-users"></i>
                    </div>
                </div>
            </div>
        </div>
    </section>
<section></section>   <!-- Technical Section (Restored Tabs) -->    <!-- REDIRECT TO APP BUTTON -->
    <div class="flex justify-center py-8">
        <a href="app.html" class="px-10 py-4 bg-white text-green-700 font-bold rounded-2xl shadow-lg border-2 border-green-600 hover:bg-green-50 transform hover:scale-105 transition-all flex items-center gap-3 group">
            <i class="ph ph-device-mobile-camera text-2xl group-hover:animate-bounce"></i>
            Open Full App Interface
        </a>
    </div>

    <section class="py-16">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
             <div class="text-center mb-10">
                <h2 class="text-3xl font-bold text-gray-900">Technical Architecture</h2>
                <p class="mt-4 text-gray-600">How we achieve high precision with low cost.</p>
            </div>
            
            <!-- Tabbed Container -->
            <div class="glass-panel rounded-3xl shadow-lg overflow-hidden border border-white/50">
                <div class="flex border-b border-gray-200/50">
                    <button onclick="switchTab('fusion')" id="tab-fusion" class="flex-1 py-4 text-center font-medium tab-active transition-colors">Satellite + Sensor Fusion</button>
                    <button onclick="switchTab('yield')" id="tab-yield" class="flex-1 py-4 text-center font-medium tab-inactive transition-colors">Crop Yield Forecasting</button>
                    <button onclick="switchTab('edge')" id="tab-edge" class="flex-1 py-4 text-center font-medium tab-inactive transition-colors">Edge AI Logic</button>
                </div>

                <div class="p-8">
                    <!-- Fusion Content -->
                    <div id="content-fusion">
                        <div class="flex flex-col md:flex-row gap-12 items-center">
                            <div class="w-full md:w-1/2">
                                <h3 class="text-2xl font-bold text-gray-900 mb-4">Fusion Model</h3>
                                <p class="text-gray-700 leading-relaxed mb-6">
                                    Using sparse ground sensors ("Village Sticks") to calibrate dense but noisy satellite data. This fusion provides accurate soil moisture maps for the entire region at a fraction of the cost.
                                </p>
                                <div class="flex gap-4">
                                    <div class="bg-white/60 p-3 rounded-lg text-center flex-1">
                                        <span class="block text-2xl mb-1">üõ∞Ô∏è</span>
                                        <span class="text-xs font-bold text-gray-600">Macro View</span>
                                    </div>
                                    <div class="bg-white/60 p-3 rounded-lg text-center flex-1">
                                        <span class="block text-2xl mb-1">üß¨</span>
                                        <span class="text-xs font-bold text-gray-600">AI Fusion</span>
                                    </div>
                                    <div class="bg-white/60 p-3 rounded-lg text-center flex-1">
                                        <span class="block text-2xl mb-1">üéØ</span>
                                        <span class="text-xs font-bold text-gray-600">Precision</span>
                                    </div>
                                </div>
                            </div>
                            <div class="w-full md:w-1/2 flex justify-center">
                                <!-- CSS Visual for Fusion -->
                                <div class="relative w-full max-w-sm h-64 bg-slate-900 rounded-xl overflow-hidden shadow-lg p-4 flex flex-col items-center justify-between">
                                    <div class="text-center text-white"><div class="text-2xl">üõ∞Ô∏è</div><div class="text-xs opacity-70">Sentinel-2</div></div>
                                    <div class="w-0.5 h-full border-l-2 border-dashed border-white/30 absolute left-1/2 top-10 bottom-10"></div>
                                    <div class="bg-white/10 backdrop-blur-sm p-2 rounded w-full text-center z-10 border border-white/20"><div class="text-xs text-green-300 font-mono">ML Fusion Layer</div></div>
                                    <div class="flex justify-between w-full text-white mt-auto pt-4">
                                        <div class="text-center"><div class="text-2xl">ü¶Ø</div><div class="text-xs opacity-70">IoT Sensor</div></div>
                                        <div class="text-center"><div class="text-2xl">üåæ</div><div class="text-xs opacity-70">Farm Analysis</div></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Yield Content -->
                    <div id="content-yield" class="hidden">
                        <div class="flex flex-col md:flex-row gap-12 items-center">
                            <div class="w-full md:w-1/2">
                                <h3 class="text-2xl font-bold text-gray-900 mb-4">Predictive Logistics</h3>
                                <p class="text-gray-700 leading-relaxed mb-6">
                                    Using <strong>Random Forest Regression</strong>, we combine historical rainfall data, real-time moisture, and visual crop stage to predict harvest tonnage. This allows farmers to negotiate prices *before* harvest.
                                </p>
                            </div>
                            <div class="w-full md:w-1/2">
                                <div class="chart-container">
                                    <canvas id="yieldChart"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Edge Content -->
                    <div id="content-edge" class="hidden">
                        <div class="flex flex-col md:flex-row gap-12 items-center">
                            <div class="w-full md:w-1/2">
                                <h3 class="text-2xl font-bold text-gray-900 mb-4">Offline First (TensorFlow Lite)</h3>
                                <p class="text-gray-700 leading-relaxed mb-6">
                                    Internet is a luxury in remote NE valleys. We compress AI models to run locally on the device.
                                </p>
                                <div class="grid grid-cols-2 gap-4">
                                    <div class="bg-red-50 p-4 rounded-xl text-center border border-red-100">
                                        <div class="font-bold text-gray-800">Cloud AI</div>
                                        <div class="text-xs text-gray-500">High Latency</div>
                                        <div class="text-red-600 font-bold mt-1">Failed</div>
                                    </div>
                                    <div class="bg-green-50 p-4 rounded-xl text-center border border-green-100">
                                        <div class="font-bold text-green-800">Edge AI</div>
                                        <div class="text-xs text-green-600">Zero Latency</div>
                                        <div class="text-green-600 font-bold mt-1">Success</div>
                                    </div>
                                </div>
                            </div>
                            <div class="w-full md:w-1/2">
                                <div class="bg-gray-900 text-green-400 font-mono p-6 rounded-xl text-sm shadow-inner overflow-x-auto">
                                    <p class="opacity-50 mb-2">// Pseudocode for Edge Detection</p>
                                    <p><span class="text-purple-400">if</span> (!connectivity) {</p>
                                    <p class="pl-4">model = <span class="text-blue-400">loadModel</span>('tflite_disease_v2');</p>
                                    <p class="pl-4">image = camera.capture();</p>
                                    <p class="pl-4">prediction = model.predict(image);</p>
                                    <p class="pl-4"><span class="text-blue-400">return</span> localVideo(prediction.remedy);</p>
                                    <p>}</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Impact Section -->
    <section id="impact" class="py-16">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-12">
                <div>
                    <h3 class="text-2xl font-bold text-gray-900 mb-6">Resource Impact</h3>
                    <div class="glass-panel p-8 rounded-3xl border border-white/50 flex flex-col items-center">
                        <div class="chart-container">
                            <canvas id="impactChart"></canvas>
                        </div>
                        <p class="text-sm font-semibold text-center text-gray-600 mt-6 bg-white/50 px-4 py-2 rounded-full">30% Water Saving via Precision Irrigation</p>
                    </div>
                </div>
                 <!-- Implementation Table -->
                 <div>
                    <h3 class="text-2xl font-bold text-gray-900 mb-6">Implementation Tiers</h3>
                    <div class="overflow-hidden border border-white/50 rounded-3xl shadow-sm glass-panel">
                        <table class="min-w-full divide-y divide-gray-200/50">
                            <thead class="bg-green-50/50">
                                <tr>
                                    <th class="px-6 py-4 text-left text-xs font-bold text-gray-500 uppercase tracking-wider">Feature</th>
                                    <th class="px-6 py-4 text-left text-xs font-bold text-green-700 uppercase tracking-wider">Zero Cost</th>
                                    <th class="px-6 py-4 text-left text-xs font-bold text-orange-700 uppercase tracking-wider">Low Cost</th>
                                </tr>
                            </thead>
                            <tbody class="bg-transparent divide-y divide-gray-200/50">
                                <tr>
                                    <td class="px-6 py-4 text-sm font-medium text-gray-800">User</td>
                                    <td class="px-6 py-4 text-sm text-gray-600">Individual</td>
                                    <td class="px-6 py-4 text-sm text-gray-600">Community</td>
                                </tr>
                                <tr>
                                    <td class="px-6 py-4 text-sm font-medium text-gray-800">Hardware</td>
                                    <td class="px-6 py-4 text-sm text-gray-600">Existing Phone</td>
                                    <td class="px-6 py-4 text-sm text-gray-600">Shared Stick</td>
                                </tr>
                                <tr>
                                    <td class="px-6 py-4 text-sm font-medium text-gray-800">Cost</td>
                                    <td class="px-6 py-4 text-sm font-bold text-green-600 text-lg">‚Çπ0</td>
                                    <td class="px-6 py-4 text-sm font-bold text-orange-600 text-lg">‚Çπ50</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white py-12 mt-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex flex-col md:flex-row justify-between items-center gap-6">
            <div class="text-center md:text-left">
                <span class="text-2xl font-bold flex items-center justify-center md:justify-start gap-2">
                    <i class="ph ph-plant text-green-400"></i> Agri<span class="text-yellow-500">Vani</span>
                </span>
                <p class="text-gray-400 text-sm mt-2">Assam Engineering College ‚Ä¢ MCA Dept</p>
                <p class="text-gray-500 text-xs mt-1">Jalukbari, Assam - 781013</p>
            </div>
            <div class="text-gray-500 text-sm">¬© 2024 Research Initiative</div>
        </div>
    </footer>

    <!-- JavaScript Logic -->
    <script>
        // --- Navigation Logic ---
        function scrollToSection(id) {
            const element = document.getElementById(id);
            if (element) {
                element.scrollIntoView({ behavior: 'smooth' });
            }
            document.getElementById('mobile-menu').classList.add('hidden');
        }

        function toggleMobileMenu() {
            const menu = document.getElementById('mobile-menu');
            menu.classList.toggle('hidden');
        }

        // --- Guide Bot Logic ---
        function toggleGuide() {
            const bubble = document.getElementById('guide-bubble');
            bubble.style.display = bubble.style.display === 'block' ? 'none' : 'block';
        }

        function speakGuide(text) {
            window.speechSynthesis.cancel();
            const utterance = new SpeechSynthesisUtterance(text);
            utterance.rate = 1.1;
            window.speechSynthesis.speak(utterance);
        }

        // --- Solution Toggle Logic ---
        function switchSolution(type) {
            const contentDigital = document.getElementById('solution-content-digital');
            const contentPhysical = document.getElementById('solution-content-physical');
            const visualDigital = document.getElementById('solution-visual-digital');
            const visualPhysical = document.getElementById('solution-visual-physical');
            const btnDigital = document.getElementById('btn-digital');
            const btnPhysical = document.getElementById('btn-physical');

            if (type === 'digital') {
                contentDigital.classList.remove('hidden');
                contentPhysical.classList.add('hidden');
                visualDigital.classList.remove('hidden');
                visualPhysical.classList.add('hidden');
                
                btnDigital.classList.add('bg-green-700', 'text-white', 'shadow-sm');
                btnDigital.classList.remove('text-gray-600', 'hover:text-green-700');
                
                btnPhysical.classList.remove('bg-green-700', 'text-white', 'shadow-sm');
                btnPhysical.classList.add('text-gray-600', 'hover:text-green-700');
            } else {
                contentDigital.classList.add('hidden');
                contentPhysical.classList.remove('hidden');
                visualDigital.classList.add('hidden');
                visualPhysical.classList.remove('hidden');

                btnPhysical.classList.add('bg-green-700', 'text-white', 'shadow-sm');
                btnPhysical.classList.remove('text-gray-600', 'hover:text-green-700');

                btnDigital.classList.remove('bg-green-700', 'text-white', 'shadow-sm');
                btnDigital.classList.add('text-gray-600', 'hover:text-green-700');
            }
        }

        // --- Tab Logic ---
        function switchTab(tabId) {
            // Hide all contents
            ['fusion', 'yield', 'edge'].forEach(id => {
                document.getElementById(`content-${id}`).classList.add('hidden');
                const btn = document.getElementById(`tab-${id}`);
                btn.classList.remove('tab-active');
                btn.classList.add('tab-inactive');
            });

            // Show selected
            document.getElementById(`content-${tabId}`).classList.remove('hidden');
            const activeBtn = document.getElementById(`tab-${tabId}`);
            activeBtn.classList.remove('tab-inactive');
            activeBtn.classList.add('tab-active');
        }

        // --- Voice Demo Logic ---
        let currentLang = 'en';
        const scenarios = {
            'pesticide': {
                'en': { user: "Is this pesticide safe?", ai: "Warning! Dangerous chemicals detected. Do not buy.", icon: "‚ò†Ô∏è", color: "text-red-600" },
                'hi': { user: "‡§ï‡•ç‡§Ø‡§æ ‡§Ø‡§π ‡§ï‡•Ä‡§ü‡§®‡§æ‡§∂‡§ï ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§ ‡§π‡•à?", ai: "‡§ö‡•á‡§§‡§æ‡§µ‡§®‡•Ä! ‡§ñ‡§§‡§∞‡§®‡§æ‡§ï ‡§∞‡§∏‡§æ‡§Ø‡§® ‡§Æ‡§ø‡§≤‡•á‡•§ ‡§Æ‡§§ ‡§ñ‡§∞‡•Ä‡§¶‡•ã‡•§", icon: "‚ò†Ô∏è", color: "text-red-600" },
                'as': { user: "‡¶è‡¶á ‡¶î‡¶∑‡¶ß‡¶ü‡ßã ‡¶≠‡¶æ‡¶≤ ‡¶®‡ßá?", ai: "‡¶∏‡¶æ‡ß±‡¶ß‡¶æ‡¶®! ‡¶¨‡¶ø‡¶™‡¶¶‡¶ú‡¶®‡¶ï ‡ß∞‡¶æ‡¶∏‡¶æ‡¶Ø‡¶º‡¶®‡¶ø‡¶ï ‡¶Ü‡¶õ‡ßá‡•§ ‡¶®‡¶ø‡¶ï‡¶ø‡¶®‡¶ø‡¶¨‡•§", icon: "‚ò†Ô∏è", color: "text-red-600" }
            },
            'disease': {
                'en': { user: "Look at these spots.", ai: "Yellow Leaf Spot detected. Use Neem Oil tonight.", icon: "üçÉ", color: "text-orange-600" },
                'hi': { user: "‡§™‡§§‡•ç‡§§‡§ø‡§Ø‡•ã‡§Ç ‡§™‡§∞ ‡§ß‡§¨‡•ç‡§¨‡•á ‡§¶‡•á‡§ñ‡•ã‡•§", ai: "‡§™‡•Ä‡§≤‡§æ ‡§™‡§§‡•ç‡§§‡•Ä ‡§∞‡•ã‡§ó ‡§π‡•à‡•§ ‡§®‡•Ä‡§Æ ‡§ï‡§æ ‡§§‡•á‡§≤ ‡§á‡§∏‡•ç‡§§‡•á‡§Æ‡§æ‡§≤ ‡§ï‡§∞‡•á‡§Ç‡•§", icon: "üçÉ", color: "text-orange-600" },
                'as': { user: "‡¶™‡¶æ‡¶§‡¶¨‡ßã‡ß∞‡¶§ ‡¶¶‡¶æ‡¶ó ‡¶™‡ß∞‡¶ø‡¶õ‡ßá‡•§", ai: "‡¶π‡¶æ‡¶≤‡¶ß‡ßÄ‡¶Ø‡¶º‡¶æ ‡¶™‡¶æ‡¶§‡ß∞ ‡¶¨‡ßá‡¶Æ‡¶æ‡ß∞‡•§ ‡¶®‡¶ø‡¶Æ ‡¶§‡ßá‡¶≤ ‡¶¨‡ßç‡¶Ø‡ß±‡¶π‡¶æ‡ß∞ ‡¶ï‡ß∞‡¶ï‡•§", icon: "üçÉ", color: "text-orange-600" }
            },
            'soil': {
                'en': { user: "Check soil quality.", ai: "Soil is acidic (pH 5.2). Add lime before planting.", icon: "üü§", color: "text-blue-600" },
                'hi': { user: "‡§Æ‡§ø‡§ü‡•ç‡§ü‡•Ä ‡§ï‡•Ä ‡§ú‡§æ‡§Å‡§ö ‡§ï‡§∞‡•ã‡•§", ai: "‡§Æ‡§ø‡§ü‡•ç‡§ü‡•Ä ‡§Ö‡§Æ‡•ç‡§≤‡•Ä‡§Ø ‡§π‡•à‡•§ ‡§ö‡•Ç‡§®‡§æ ‡§°‡§æ‡§≤‡•á‡§Ç‡•§", icon: "üü§", color: "text-blue-600" },
                'as': { user: "‡¶Æ‡¶æ‡¶ü‡¶ø‡¶°‡ß∞‡¶æ ‡¶ï‡ßá‡¶®‡ßá‡¶ï‡ßÅ‡ß±‡¶æ?", ai: "‡¶Æ‡¶æ‡¶ü‡¶ø‡¶ñ‡¶ø‡¶®‡¶ø ‡¶Ü‡¶Æ‡ßç‡¶≤‡¶ø‡¶ï‡•§ ‡¶ö‡ßÅ‡¶£ ‡¶¶‡¶ø‡¶Ø‡¶º‡¶ï‡•§", icon: "üü§", color: "text-blue-600" }
            },
            'weather': {
                'en': { user: "Will it rain today?", ai: "Heavy rain in 4 hours. Do not apply fertilizer.", icon: "üå¶Ô∏è", color: "text-blue-500" },
                'hi': { user: "‡§ï‡•ç‡§Ø‡§æ ‡§Ü‡§ú ‡§¨‡§æ‡§∞‡§ø‡§∂ ‡§π‡•ã‡§ó‡•Ä?", ai: "4 ‡§ò‡§Ç‡§ü‡•á ‡§Æ‡•á‡§Ç ‡§≠‡§æ‡§∞‡•Ä ‡§¨‡§æ‡§∞‡§ø‡§∂ ‡§π‡•ã‡§ó‡•Ä‡•§ ‡§ñ‡§æ‡§¶ ‡§® ‡§°‡§æ‡§≤‡•á‡§Ç‡•§", icon: "üå¶Ô∏è", color: "text-blue-500" },
                'as': { user: "‡¶Ü‡¶ú‡¶ø ‡¶¨‡ß∞‡¶∑‡ßÅ‡¶£ ‡¶¶‡¶ø‡¶¨ ‡¶®‡ßá‡¶ï‡¶ø?", ai: "‡¶ö‡¶æ‡ß∞‡¶ø ‡¶ò‡¶£‡ßç‡¶ü‡¶æ‡ß∞ ‡¶™‡¶æ‡¶õ‡¶§ ‡¶¨‡ß∞‡¶∑‡ßÅ‡¶£ ‡¶¶‡¶ø‡¶¨‡•§ ‡¶∏‡¶æ‡ß∞ ‡¶®‡¶ø‡¶¶‡¶ø‡¶¨‡•§", icon: "üå¶Ô∏è", color: "text-blue-500" }
            }
        };

        function setLang(lang) {
            currentLang = lang;
            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.classList.remove('bg-green-700', 'text-white', 'border-green-700');
                btn.classList.add('border-gray-300', 'bg-white/50');
            });
            document.getElementById(`lang-${lang}`).classList.add('bg-green-700', 'text-white', 'border-green-700');
            document.getElementById(`lang-${lang}`).classList.remove('border-gray-300', 'bg-white/50');
        }

        function triggerManualMic() { runScenario('disease'); }

        function runScenario(type) {
            const overlay = document.getElementById('ui-overlay');
            const data = scenarios[type][currentLang];
            
            overlay.classList.remove('hidden');
            overlay.style.display = 'flex';
            
            // 1. Initial Scanning / Listening View
            if (type === 'pesticide') {
                overlay.innerHTML = `
                    <div class="relative w-48 h-64 border-2 border-gray-400 rounded-lg overflow-hidden flex items-center justify-center bg-gray-900/10">
                        <!-- Viewfinder corners -->
                        <div class="absolute top-2 left-2 w-4 h-4 border-t-2 border-l-2 border-green-500"></div>
                        <div class="absolute top-2 right-2 w-4 h-4 border-t-2 border-r-2 border-green-500"></div>
                        <div class="absolute bottom-2 left-2 w-4 h-4 border-b-2 border-l-2 border-green-500"></div>
                        <div class="absolute bottom-2 right-2 w-4 h-4 border-b-2 border-r-2 border-green-500"></div>
                        
                        <!-- Bottle Icon -->
                        <i class="ph ph-flask text-6xl text-gray-700"></i>
                        <p class="absolute bottom-12 text-xs text-white bg-black/50 px-2 rounded">Align Bottle</p>

                        <!-- Scanning Laser -->
                        <div class="scan-laser"></div>
                    </div>
                    <p class="font-bold text-lg text-gray-800 mt-4">Scanning Label...</p>
                `;
            } else if (type === 'disease') {
                overlay.innerHTML = `
                    <div class="relative w-48 h-48 bg-green-50 rounded-lg border-2 border-dashed border-green-300 flex items-center justify-center overflow-hidden">
                        <i class="ph ph-plant text-7xl text-green-600"></i>
                        <!-- Target Reticle Animation -->
                        <div class="absolute w-24 h-24 border-2 border-red-500 rounded-lg animate-[ping_2s_infinite]"></div>
                        <div class="absolute w-full h-0.5 bg-red-500 top-1/2 animate-[scan-laser_1.5s_infinite]"></div>
                    </div>
                    <p class="font-bold text-lg text-gray-800 mt-4">Scanning Leaf...</p>
                `;
            } else if (type === 'soil') {
                overlay.innerHTML = `
                    <div class="relative w-48 h-48 bg-stone-100 rounded-xl overflow-hidden flex items-end justify-center gap-2 p-4 border border-stone-200">
                        <div class="w-8 bg-amber-600 rounded-t-md bar-grow h-0" style="animation-delay: 0.1s"></div>
                        <div class="w-8 bg-amber-500 rounded-t-md bar-grow h-0" style="animation-delay: 0.3s"></div>
                        <div class="w-8 bg-amber-400 rounded-t-md bar-grow h-0" style="animation-delay: 0.5s"></div>
                        <i class="ph ph-eyedropper text-4xl text-stone-500 absolute top-4"></i>
                    </div>
                    <p class="font-bold text-lg text-gray-800 mt-4">Analyzing Soil...</p>
                `;
            } else if (type === 'weather') {
                overlay.innerHTML = `
                    <div class="relative w-48 h-48 rounded-full border-2 border-blue-200 flex items-center justify-center bg-blue-50 overflow-hidden">
                        <div class="radar-sweep"></div>
                        <i class="ph ph-globe-hemisphere-east text-6xl text-blue-300 relative z-10"></i>
                        <div class="absolute w-2 h-2 bg-red-500 rounded-full top-10 right-10 animate-ping"></div>
                    </div>
                    <p class="font-bold text-lg text-gray-800 mt-4">Fetching Satellite Data...</p>
                `;
            }

            // 2. Processing (Simulated Delay)
            setTimeout(() => {
                let analysisText = "Processing Data...";
                if (type === 'pesticide') analysisText = "Analyzing Chemical Composition...";
                if (type === 'disease') analysisText = "Matching Disease Patterns...";
                if (type === 'soil') analysisText = "Measuring NPK Levels...";
                if (type === 'weather') analysisText = "Connecting to IMD Satellite...";
                
                overlay.innerHTML = `
                    <div class="animate-spin text-5xl mb-4 text-green-600"><i class="ph ph-spinner-gap"></i></div>
                    <p class="font-bold text-lg text-gray-700">${analysisText}</p>
                    <p class="text-xs text-gray-500 mt-1">Edge AI Running</p>
                `;

                // 3. Result & Speak
                setTimeout(() => {
                    overlay.innerHTML = `
                        <button onclick="document.getElementById('ui-overlay').style.display='none'" class="absolute top-4 right-4 text-gray-400 hover:text-gray-600"><i class="ph ph-x text-2xl"></i></button>
                        <div class="bg-white p-4 rounded-xl shadow border w-full mb-4">
                            <span class="text-4xl block mb-2">${data.icon}</span>
                            <p class="font-bold text-gray-800 text-lg">${type === 'pesticide' ? 'Alert' : 'Diagnosis'}</p>
                        </div>
                        <p class="text-gray-800 font-medium leading-relaxed">"${data.ai}"</p>
                        <div class="mt-4"><i class="ph ph-speaker-high text-3xl text-green-600 animate-pulse"></i></div>
                    `;
                    speakApp(data.ai, currentLang);
                }, 2000); // 2 seconds for analysis
            }, 2500); // 2.5 seconds for scanning/animation
        }

        function speakApp(text, lang) {
            window.speechSynthesis.cancel();
            
            // Mapping for Google TTS (Assamese often lacks TTS, use Bengali as closest proxy or Hindi)
            let apiLang = lang;
            if (lang === 'as') apiLang = 'bn'; 

            const url = `https://translate.google.com/translate_tts?ie=UTF-8&client=tw-ob&tl=${apiLang}&q=${encodeURIComponent(text)}`;

            const audio = new Audio(url);
            
            audio.play().catch(e => {
                // Fallback to Native Browser TTS
                console.log("API TTS failed, switching to native", e);
                const utterance = new SpeechSynthesisUtterance(text);
                if (lang === 'hi') utterance.lang = 'hi-IN';
                else if (lang === 'en') utterance.lang = 'en-US';
                else utterance.lang = 'hi-IN'; 
                window.speechSynthesis.speak(utterance);
            });
        }

        // --- Charts ---
        window.addEventListener('load', function() {
            // Cost Chart
            new Chart(document.getElementById('costChart').getContext('2d'), {
                type: 'bar',
                data: {
                    labels: ['Standard IoT', 'Agri-Vani (Tier 1)', 'Village Stick (Tier 2)'],
                    datasets: [{
                        label: 'Cost (INR)',
                        data: [50000, 0, 50],
                        backgroundColor: ['#d1d5db', '#15803d', '#ea580c']
                    }]
                },
                options: {
                    responsive: true, maintainAspectRatio: false,
                    plugins: { legend: { display: false } },
                    scales: { y: { type: 'logarithmic' } }
                }
            });

            // Impact Chart
            new Chart(document.getElementById('impactChart').getContext('2d'), {
                type: 'doughnut',
                data: {
                    labels: ['Used', 'Saved'],
                    datasets: [{ data: [70, 30], backgroundColor: ['#d1fae5', '#3b82f6'] }]
                },
                options: { responsive: true, maintainAspectRatio: false }
            });
            
             // Yield Chart
             new Chart(document.getElementById('yieldChart').getContext('2d'), {
                type: 'line',
                data: {
                    labels: ['Week 1', 'Week 4', 'Week 8', 'Harvest'],
                    datasets: [{
                        label: 'AI Prediction',
                        data: [3.5, 3.9, 4.1, 4.2],
                        borderColor: '#ea580c', borderDash: [5, 5], fill: false
                    }, {
                         label: 'Actual',
                         data: [null, null, null, 4.2],
                         borderColor: '#15803d', backgroundColor: '#15803d', pointRadius: 5
                    }]
                },
                options: { responsive: true, maintainAspectRatio: false }
            });
        });
    </script>
</body>
</html>